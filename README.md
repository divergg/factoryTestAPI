# factoryTestAPI
# Тестовое задание 
Разработан сервис управления рассылками API администрирования и получения статистики.
Основой используемый стэк - Django-Rest-Framework, Celery, Redis, postgresql
# **Реализованные функции**
1. Созданы сущности "Рассылка", "Клиент" и "Сообщение"
2. Реализовано API для:

    добавления нового клиента в справочник со всеми его атрибутами

    обновления данных атрибутов клиента

    удаления клиента из справочника

    добавления новой рассылки со всеми её атрибутам

    получения общей статистики по созданным рассылкам и количеству отправленных сообщений по ним с группировкой по статусам
    
    получения детальной статистики отправленных сообщений по конкретной рассылке
    
    обновления атрибутов рассылки
    
    удаления рассылки
    
    обработки активных рассылок и отправки сообщений клиентам
    
3. Реализованные основные функции:

    после  получения запроса от пользователя инициализируется рассылка по списку клиентов (если время начала раньше или равно текущему времени)
    
    если время начала рассылки позже - вне зависимости от пользователя рассылка ставится на паузу и запускается самостоятельно в нужное время
    
    осуществляется сбор статитстики и выдача ее пользователю по запросу
    
    ошибки внешнего сервиса не влияют на функционал
  
4. Реализованные дополнительные функции:

    реализовано тестирование (проверка- python manage.py test)
    
    подготовлен docker-compose
    
    по адресу /docs/ открывается страница со Swagger UI
    
    реализован администраторский Web UI
    
    организована обработка оишибок внешнего сервиса
    
    обеспечено логирование в отдельные файлы (file.log и celery.log)
    
    
# Порядок запуска
1. Склонировать репозиторий
2. Создать файл .env, где указать url внешнего сервиса и token (переменные URL и TOKEN)
3. Выполнить запуск контейнеров (docker-compose up)
